!function(a){"use strict";function o(a,b){this.prepend=a,this.append=b}var i,j,k,b=new Array,c=new Array,d=new Array,e=new Array,f=1.1,g=1,h=1,l=f,m=g,n=h;if("speechSynthesis"in window){var p=new SpeechSynthesisUtterance;window.speechSynthesis.cancel()}var q=/chrome/i.test(navigator.userAgent),r=/edge/i.test(navigator.userAgent),s=q&&!r,t={speak:function(q){function z(a){var d,f;if(c.length>0)for(var g in c){var h=y.indexOf(c[g]);h>-1&&y.splice(h,1)}for(var g in y)jQuery(a).find(y[g]).addBack(y[g]).not("[data-articulate-recognize]").each(function(){jQuery(this).html("")});if(b.length>0)for(var g in b)jQuery(a).find(b[g]).addBack(b[g]).not("[data-articulate-recognize]").each(function(){jQuery(this).html("")});jQuery(a).find("[data-articulate-ignore]").addBack("[data-articulate-ignore]").each(function(){jQuery(this).html("")}),jQuery(a).find("[data-articulate-prepend]").addBack("[data-articulate-prepend]").each(function(){d=jQuery(this).data("articulate-prepend"),jQuery(this).prepend(d+" ")}),jQuery(a).find("[data-articulate-append]").addBack("[data-articulate-append]").each(function(){d=jQuery(this).data("articulate-append"),jQuery(this).append(" "+d)});var i=0;for(var j in x)i++,i<=4&&jQuery(a).find(j).each(function(){e[j]?(jQuery(this).prepend(e[j].prepend+" "),jQuery(this).append(" "+e[j].append)):(jQuery(this).prepend(x[j].prepend+" "),jQuery(this).append(" "+x[j].append))});return jQuery(a).find("h1,h2,h3,h4,h5,h6,li,p").addBack("h1,h2,h3,h4,h5,h6,li,p").each(function(){jQuery(this).append(". ")}),jQuery(a).find("br").each(function(){jQuery(this).after(", ")}),jQuery(a).find("figure").addBack("figure").each(function(){d=jQuery(this).find("figcaption").html(),f=e.figure?e.figure.prepend:x.figure.prepend,void 0!=d&&""!==d&&jQuery("<div>"+f+" "+d+".</div>").insertBefore(this),jQuery(this).remove()}),jQuery(a).find("img").addBack("img").each(function(){d=jQuery(this).attr("alt");var a=jQuery(this).parent(),b=a.get(0).tagName;if(f=e.img?e.img.prepend:x.img.prepend,void 0!==d&&""!=d)if("PICTURE"==b){jQuery("<div>"+f+" "+d+".</div>").insertBefore(a)}else jQuery("<div>"+f+" "+d+".</div>").insertBefore(this);jQuery(this).remove()}),jQuery(a).find("table").addBack("table").each(function(){d=jQuery(this).find("caption").text(),f=e.table?e.table.prepend:x.table.prepend,void 0!==d&&""!=d&&jQuery("<div>"+f+" "+d+".</div>").insertBefore(this),jQuery(this).remove()}),jQuery(a).find("[data-articulate-swap]").addBack("[data-articulate-swap]").each(function(){d=jQuery(this).data("articulate-swap"),jQuery(this).text(d)}),jQuery(a).find("[data-articulate-spell]").addBack("[data-articulate-spell]").each(function(){d=jQuery(this).text(),d=d.split("").join(" "),jQuery(this).text(d)}),a}function A(a){for(var b,c,f,g,h,a;-1!=a.indexOf("<!-- <articulate>")&&(b=a.indexOf("<!-- <articulate>"),c=a.indexOf("</articulate> -->",b),-1!=c);)f=a.substring(b+17,c),g=a.substring(0,b),h=a.substring(c+17),a=g+" "+f+" "+h;a=a.replace(/<!--[\s\S]*?-->/g,""),a=a.replace(/(<([^>]+)>)/gi,"");for(var k,l,i=d.length,j=0;j<i;){k=d[j],k=k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=d[j+1]+" ";var m=new RegExp(k,"gi"),a=a.replace(m,l);j+=2}e.q?(a=a.replace(/\u201c/g,e.q.prepend+" "),a=a.replace(/\u201d/g," "+e.q.append)):(a=a.replace(/\u201c/g,x.q.prepend+" "),a=a.replace(/\u201d/g," "+x.q.append)),a=a.replace(/\u2014/g,", "),a=a.replace(/--/g,", ");var n=document.createElement("textarea");return n.innerHTML=a,a=n.value,a=a.replace(/(\r\n|\n|\r)/gm,""),a=a.replace(/  +/g," "),a=a.replace(/\.\./g,"."),a=a.replace(/,,/g,","),a=a.replace(/ ,/g,",")}var u,v,w,t=(a.extend({},a.fn.articulate.defaults,q),""),x=new Array;x.q=new o("quote,",", unquote,"),x.ol=new o("Start of list.","End of list."),x.ul=new o("Start of list.","End of list."),x.blockquote=new o("Blockquote start.","Blockquote end."),x.img=new o("There's an embedded image with the description,",""),x.table=new o("There's an embedded table with the caption,",""),x.figure=new o("There's an embedded figure with the caption,","");var y=["audio","button","canvas","code","del","dialog","dl","embed","form","head","iframe","meter","nav","noscript","object","s","script","select","style","textarea","video"];return"speechSynthesis"in window?window.speechSynthesis.speaking?void 0:(this.each(function(){u=a(this).clone(),v=z(u),v=jQuery(v).html(),w=A(v),t=t+" "+w}),l=void 0!==i?i:f,m=void 0!==j?j:g,n=void 0!==k?k:h,p=new SpeechSynthesisUtterance,p.text=t,p.rate=l,p.pitch=m,p.volume=n,s&&(p.voice=speechSynthesis.getVoices().filter(function(a){return"native"==a.name})[0]),window.speechSynthesis.speak(p),this):void alert("Sorry, this browser does not support the Web Speech API.")},pause:function(){return window.speechSynthesis.pause(),this},resume:function(){return window.speechSynthesis.resume(),this},stop:function(){return window.speechSynthesis.cancel(),this},enabled:function(){return"speechSynthesis"in window},isSpeaking:function(){return window.speechSynthesis.speaking},isPaused:function(){return window.speechSynthesis.paused},rate:function(){var a=arguments[0];return a>=.1&&a<=10?i=a:void 0===a&&(i=void 0,l=f),this},pitch:function(){var a=arguments[0];return a>=.1&&a<=2?j=a:void 0===a&&(j=void 0,m=g),this},volume:function(){var a=arguments[0];return a>=0&&a<=1?k=a:void 0===a&&(k=void 0,n=h),this},ignore:function(){var a=arguments.length;for(b.length=0;a>0;)a--,b.push(arguments[a]);return this},recognize:function(){var a=arguments.length;for(c.length=0;a>0;)a--,c.push(arguments[a]);return this},replace:function(){var a=arguments.length;d.length=0;for(var b=0;b<a&&(d.push(arguments[b],arguments[b+1]),b+=2,a-b!=1););return this},customize:function(){var a=arguments.length;if(0==a&&(e=[]),2==a){if(-1==["img","table","figure"].indexOf(arguments[0]))return void console.log("Error: When customizing, tag indicated must be either 'img', 'table', or 'figure'.");e[arguments[0].toString()]=new o(arguments[1].toString())}if(3==a){if(-1==["q","ol","ul","blockquote"].indexOf(arguments[0]))return void console.log("Error: When customizing, tag indicated must be either 'q', 'ol', 'ul' or 'blockquote'.");e[arguments[0].toString()]=new o(arguments[1].toString(),arguments[2].toString())}return this}};a.fn.articulate=function(a){return t[a]?t[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?void jQuery.error("Method "+a+" does not exist on jQuery.articulate"):t.speak.apply(this,arguments)}}(jQuery);